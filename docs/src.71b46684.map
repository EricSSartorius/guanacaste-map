{"version":3,"sources":["src/config.js","src/components/popup.js","src/index.js"],"names":["MAP","style","zoom","center","ACCESS_TOKEN","LAYER_ID","SOURCE_LAYER","FLY_TO_ZOOM_LEVEL","ANIMATION_DURATION","LEGEND_TITLE","TYPES","name","label","icon","feature","properties","link","Estación","Image","description","config","DEFAULT_MAP","container","mapboxgl","accessToken","map","Map","Object","assign","window","popup","Popup","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","flyTo","duration","addControl","FullscreenControl","e","features","setTimeout","handleFilter","setFilter","symbolType","noFilter","nav","NavigationControl","scrollZoom","disable","setCenter","setZoom","document","body","addEventListener","event","key","cmd_held","metaKey","ctrl_held","ctrlKey","enable","dragRotate","touchZoomRotate","disableRotation"],"mappings":"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","file":"src.71b46684.map","sourceRoot":"..","sourcesContent":["const MAP = {\n  // for creating mapboxgl.Map(). container defaults to 'map'\n  style: 'mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x',\n  zoom:9.8,\n  center: [-85.49304, 10.891421]\n};\n\nconst ACCESS_TOKEN =\n  'pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww';\n\nexport default {\n  LAYER_ID: 'turismo',\n  SOURCE_LAYER: 'Turismo',\n  FLY_TO_ZOOM_LEVEL: 9,\n  ANIMATION_DURATION: 2000,\n  LEGEND_TITLE: 'Puestos Estaciónes y Tourismos',\n  MAP,\n  ACCESS_TOKEN,\n  TYPES: [\n    {\n      name: 'biological',\n      label: 'Biological',\n      icon: `<svg><use href=\"assets/svg/information-11.svg\"></use></svg>`\n    },\n    {\n      name: 'tourist',\n      label: 'Touristo',\n      icon: `<svg><use href=\"assets/svg/park-11.svg\"></use></svg>`\n    }\n  ]\n};\n","export default feature =>\n  `<div class=\"popup-header\">\n    <h3>\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          ${feature.properties.Estación}\n        </a>\n    </h3>\n    <div class=\"popup-image\">\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          <img\n            src=\"${feature.properties.Image}\"\n            alt=\"Image del Estación ${feature.properties.Estación}\"\n          />\n        </a>\n      \n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"popup-button\"\n      href=\"${feature.properties.link}\"\n      >\n      Más informacíon\n    </a>\n  </div>\n  `;\n","/* global mapboxgl */\n\nimport config from './config';\nimport popupComponent from './components/popup';\n// import legendComponent from './components/legend';\n\nconst { ACCESS_TOKEN, MAP, LAYER_ID, ANIMATION_DURATION } = config;\n\nconst DEFAULT_MAP = {\n    container: 'map',\n    center:[-85.61365526723557, 10.838261234356153],\n    zoom: 9.619976883678385\n};\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\n// instantiate the map instance\nconst map = new mapboxgl.Map(\n  // Set defaults, allow the config to override\n  Object.assign(DEFAULT_MAP, MAP)\n);\n\nwindow.map = map;\n\n// HANDLE POPUPS\n\nconst popup = new mapboxgl.Popup();\n\n// Create a mapboxgl.Popup from the default popup component.\nconst showPopup = feature => {\n  popup\n    .setLngLat(feature.geometry.coordinates)\n    .setHTML(popupComponent(feature))\n    .addTo(map);\n  popup.on('close', () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n      duration: ANIMATION_DURATION \n    });\n  });\n\n  return popup;\n};\n\n//FULL SCREEN MODE \n\nmap.addControl(new mapboxgl.FullscreenControl());\n\n// HANDLE MAP EVENTS\n\nmap.on('click', LAYER_ID, e => {\n  const feature = e.features[0];\n  setTimeout(() => {\n    map.flyTo({\n      center: feature.geometry.coordinates,\n      duration: ANIMATION_DURATION\n    });\n    showPopup(feature);\n  }, 200);\n});\n\n// HANDLE MAP LOAD\n\nwindow.handleFilter = symbolType => {\n  map.setFilter(LAYER_ID, ['==', 'symbol', symbolType]);\n};\n\nwindow.noFilter = () => {\n  map.setFilter(LAYER_ID, null);\n};\n\n// When the map loads, generate the markers\nmap.on('load', () => {\n  const nav = new mapboxgl.NavigationControl();\n  map.addControl(nav, 'top-left');\n  map.scrollZoom.disable();\n\n  //\n  // const legend = document.getElementById(`legend`);\n  // legend.innerHTML = legendComponent(TYPES);\n});\n\nmap.setCenter(DEFAULT_MAP.center);\nmap.setZoom(DEFAULT_MAP.zoom);\n\n\n\ndocument.body.addEventListener(\"keydown\", function(event) {\n    var key = event.key;\n    var cmd_held = event.metaKey;\n    var ctrl_held = event.ctrlKey;\n\n    if(cmd_held || ctrl_held){\n        map.scrollZoom.enable();\n    }\n});\ndocument.body.addEventListener(\"keyup\", function(event) {\n    var key = event.key;\n    var ctrl_held = event.ctrlKey;\n\n\n    if(key==\"Meta\"|| key==\"Control\"){\n        map.scrollZoom.disable();\n    }\n});\n\n// ADD ZOOM CONTROLS TO MAP \nconst nav = new mapboxgl.NavigationControl(); \n// DISABLE MAP ROTATION USING RIGHT CLICK + DRAG\n  map.dragRotate.disable(); \n// DISABLE MAP ROTATIONS USING TOUCH ROTATION GESTURE\n  map.touchZoomRotate.disableRotation(); \n//add zoom control with your options\n\n\n\n// const legend = document.getElementById(`legend`);\n// legend.innerHTML = legendComponent(TYPES); \n\n"]}