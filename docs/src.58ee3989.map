{"version":3,"sources":["src/config.js","src/components/popup.js","src/components/legend.js","src/index.js"],"names":["MAP","ACCESS_TOKEN","icon","feature","properties","Estación","Image","description","link","symbolTypes","map","symbolType","name","label","config","TYPES","LAYER_ID","ANIMATION_DURATION","DEFAULT_MAP","mapboxgl","accessToken","Map","Object","assign","window","popup","Popup","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","flyTo","center","e","features","handleFilter","setFilter","noFilter","nav","NavigationControl","addControl"],"mappings":";AAUe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAVf,IAAMA,EAAM,CAEH,MAAA,uDACD,KAAA,KACE,OAAA,EAAE,SAAU,YAGhBC,EACJ,gGAEa,QAAA,QAAA,CACH,SAAA,UACI,aAAA,UACK,kBAAA,IACC,mBAAA,IACN,aAAA,iCALD,IAAA,EAAA,aAAA,EAQN,MAAA,CACL,CACQ,KAAA,aACC,MAAA,aACPC,KAAAA,+DAEF,CACQ,KAAA,UACC,MAAA,WACPA,KAAAA;;AC3BS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,SAAA,GAELC,MAAAA,uCAAAA,EAAQC,WAAWC,SAGdF,kEAAAA,EAAQC,WAAWE,MACAH,sCAAAA,EAAQC,WAAWC,SAM1CF,mHAAAA,EAAQC,WAAWG,YAIhBJ,qEAAAA,EAAQC,WAAWI,KAhBlB;;ACuBf,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAvBe,QAAA,QAAA,SAAA,GAIHC,MAAAA,kGAAAA,EAAYC,IACZ,SAAA,GACqCC,MAAAA,qDAAAA,EAAWC,KAChBD,oDAAAA,EAAWE,MAAiBF,YAAAA,EAAWT,KACrDS,wCAAAA,EAAWE,MAH7B,8DALG;;ACmEf,aAjEA,IAAA,EAAA,QAAA,YAiEA,EAAA,EAAA,GAhEA,EAAA,QAAA,sBAgEA,EAAA,EAAA,GA/DA,EAAA,QAAA,uBA+DA,EAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7DQZ,IAAAA,EAA2Da,EAA3Db,QAAAA,aAAcD,EAA6Cc,EAA7Cd,QAAAA,IAAKe,EAAwCD,EAAxCC,QAAAA,MAAOC,EAAiCF,EAAjCE,QAAAA,SAAUC,EAAuBH,EAAvBG,QAAAA,mBAEtCC,EAAc,CACP,UAAA,MACH,OAAA,EAAE,SAAU,WACd,KAAA,MAGRC,SAASC,YAAcnB,EAGvB,IAAMS,EAAM,IAAIS,SAASE,IAEvBC,OAAOC,OAAOL,EAAalB,IAG7BwB,OAAOd,IAAMA,EAIb,IAAMe,EAAQ,IAAIN,SAASO,MAGrBC,EAAY,SAAW,GAYpBF,OAVJG,EAAAA,UAAUzB,EAAQ0B,SAASC,aAC3BC,SAAQ,EAAe5B,EAAAA,SAAAA,IACvB6B,MAAMtB,GACHuB,EAAAA,GAAG,QAAS,WACZC,EAAAA,MAAM,CACAhB,OAAAA,EAAYiB,OACVlB,SAAAA,MAIPQ,GAKTf,EAAIuB,GAAG,QAASjB,EAAU,SAAK,GACvBb,IAAAA,EAAUiC,EAAEC,SAAS,GAChB,WAAA,WACLH,EAAAA,MAAM,CACA/B,OAAAA,EAAQ0B,SAASC,YACfb,SAAAA,IAEFd,EAAAA,IACT,OAILqB,OAAOc,aAAe,SAAc,GAC9BC,EAAAA,UAAUvB,EAAU,CAAC,KAAM,SAAUL,KAG3Ca,OAAOgB,SAAW,WACZD,EAAAA,UAAUvB,EAAU,OAI1BN,EAAIuB,GAAG,OAAQ,WACPQ,IAAAA,EAAM,IAAItB,SAASuB,kBACrBC,EAAAA,WAAWF,EAAK","file":"src.58ee3989.map","sourceRoot":"..","sourcesContent":["const MAP = {\n  // for creating mapboxgl.Map(). container defaults to 'map'\n  style: 'mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x',\n  zoom: 9.18,\n  center: [-85.49304, 10.891421]\n};\n\nconst ACCESS_TOKEN =\n  'pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww';\n\nexport default {\n  LAYER_ID: 'turismo',\n  SOURCE_LAYER: 'Turismo',\n  FLY_TO_ZOOM_LEVEL: 9.9,\n  ANIMATION_DURATION: 2000,\n  LEGEND_TITLE: 'Puestos Estaciónes y Tourismos',\n  MAP,\n  ACCESS_TOKEN,\n  TYPES: [\n    {\n      name: 'biological',\n      label: 'Biological',\n      icon: `<svg><use href=\"assets/svg/information-11.svg\"></use></svg>`\n    },\n    {\n      name: 'tourist',\n      label: 'Touristo',\n      icon: `<svg><use href=\"assets/svg/park-11.svg\"></use></svg>`\n    }\n  ]\n};\n","export default feature =>\n  `<div class=\"popup-header\">\n    <h3>${feature.properties.Estación}</h3>\n    <div class=\"popup-image\">\n      <img\n        src=\"${feature.properties.Image}\"\n        alt=\"Image del Estación ${feature.properties.Estación}\"\n      />\n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"popup-button\"\n      href=\"${feature.properties.link}\"\n      target=\"_new\"\n      >\n      Más informacíon\n    </a>\n  </div>\n  `;\n","export default symbolTypes =>\n  `<div>\n\t    <h4>Puestos Estaciónes y Tourismos</h4>\n\t\t\t<div id=\"legend-items\">\n          ${symbolTypes.map(\n            symbolType => `\n                   <div onClick=\"handleFilter('${symbolType.name}')\">\n                      <span class=\"marker ${symbolType.label}-marker\">${symbolType.icon}</span>\n                      <span>${symbolType.label}</span>\n                    </div>\n                    `\n          )}\n          <div onClick=\"noFilter()\">Toggle Off Filters</div>\n\t\t\t</div>\n\t</div>`;\n\n// const div = document.createElement('div');\n// const span = document.createElement('span');\n// const labelSpan = document.createElement('span');\n// span.className = `marker ${symbolType.name}-marker`;\n// labelSpan.innerHTML = symbolType.label || 'No label specified';\n// div.appendChild(span);\n// div.appendChild(labelSpan);\n// document.getElementById('legend-items').appendChild(div);\n","/* global mapboxgl */\n\nimport config from './config';\nimport popupComponent from './components/popup';\nimport legendComponent from './components/legend';\n\nconst { ACCESS_TOKEN, MAP, TYPES, LAYER_ID, ANIMATION_DURATION } = config;\n\nconst DEFAULT_MAP = {\n  container: 'map',\n  center: [-85.49304, 10.891421],\n  zoom: 9.18\n};\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\n// instantiate the map instance\nconst map = new mapboxgl.Map(\n  // Set defaults, allow the config to override\n  Object.assign(DEFAULT_MAP, MAP)\n);\n\nwindow.map = map;\n\n// HANDLE POPUPS\n\nconst popup = new mapboxgl.Popup();\n\n// Create a mapboxgl.Popup from the default popup component.\nconst showPopup = feature => {\n  popup\n    .setLngLat(feature.geometry.coordinates)\n    .setHTML(popupComponent(feature))\n    .addTo(map);\n  popup.on('close', () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n      duration: ANIMATION_DURATION\n    });\n  });\n\n  return popup;\n};\n\n// HANDLE MAP EVENTS\n\nmap.on('click', LAYER_ID, e => {\n  const feature = e.features[0];\n  setTimeout(() => {\n    map.flyTo({\n      center: feature.geometry.coordinates,\n      duration: ANIMATION_DURATION\n    });\n    showPopup(feature);\n  }, 200);\n});\n// HANDLE MAP LOAD\n\nwindow.handleFilter = symbolType => {\n  map.setFilter(LAYER_ID, ['==', 'symbol', symbolType]);\n};\n\nwindow.noFilter = () => {\n  map.setFilter(LAYER_ID, null);\n};\n\n// When the map loads, generate the markers\nmap.on('load', () => {\n  const nav = new mapboxgl.NavigationControl();\n  map.addControl(nav, 'top-left');\n  //\n  // const legend = document.getElementById(`legend`);\n  // legend.innerHTML = legendComponent(TYPES);\n});\n"]}