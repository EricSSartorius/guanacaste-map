{"version":3,"sources":["src/config.js","src/components/popup.js","src/index.js"],"names":["MAP","ACCESS_TOKEN","icon","feature","properties","link","Estación","Image","description","config","LAYER_ID","ANIMATION_DURATION","DEFAULT_MAP","mapboxgl","accessToken","map","Map","Object","assign","window","popup","Popup","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","flyTo","center","createCompass","leftEl","document","querySelector","compass","createElement","innerHTML","onclick","appendChild","addControl","FullscreenControl","e","features","handleFilter","setFilter","symbolType","noFilter","nav","NavigationControl","showCompass","scrollZoom","disable","body","addEventListener","event","key","cmd_held","metaKey","ctrl_held","ctrlKey","enable"],"mappings":";AAUe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAVf,IAAMA,EAAM,CAEH,MAAA,uDACA,OAAA,EAAE,kBAAmB,oBACpB,KAAA,mBAGJC,EACJ,gGAEa,QAAA,QAAA,CACH,SAAA,UACI,aAAA,UACK,kBAAA,kBACC,mBAAA,IACN,aAAA,iCALD,IAAA,EAAA,aAAA,EAQN,MAAA,CACL,CACQ,KAAA,aACC,MAAA,aACPC,KAAAA,+DAEF,CACQ,KAAA,UACC,MAAA,WACPA,KAAAA;;AC3BS,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,SAAA,GAIGC,MAAAA,qEAAAA,EAAQC,WAAWC,KAEzBF,6BAAAA,EAAQC,WAAWE,SAKbH,yFAAAA,EAAQC,WAAWC,KAGlBF,oDAAAA,EAAQC,WAAWG,MACAJ,0CAAAA,EAAQC,WAAWE,SAQ9CH,6IAAAA,EAAQC,WAAWI,YAIhBL,qEAAAA,EAAQC,WAAWC,KA3BlB;;AC0Hf,aAxHA,IAAA,EAAA,QAAA,YAwHA,EAAA,EAAA,GAvHA,EAAA,QAAA,sBAuHA,EAAA,EAAA,GAAA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GApHQJ,IAAAA,EAAoDQ,EAApDR,QAAAA,aAAcD,EAAsCS,EAAtCT,QAAAA,IAAKU,EAAiCD,EAAjCC,QAAAA,SAAUC,EAAuBF,EAAvBE,QAAAA,mBAE/BC,EAAc,CACL,UAAA,OAGfC,SAASC,YAAcb,EAGvB,IAAMc,EAAM,IAAIF,SAASG,IAEvBC,OAAOC,OAAON,EAAaZ,IAG7BmB,OAAOJ,IAAMA,EAIb,IAAMK,EAAQ,IAAIP,SAASQ,MAGrBC,EAAY,SAAW,GAYpBF,OAVJG,EAAAA,UAAUpB,EAAQqB,SAASC,aAC3BC,SAAQ,EAAevB,EAAAA,SAAAA,IACvBwB,MAAMZ,GACHa,EAAAA,GAAG,QAAS,WACZC,EAAAA,MAAM,CACAjB,OAAAA,EAAYkB,OACVnB,SAAAA,MAIPS,GA+BT,SAASW,IACDC,IAAAA,EAASC,SAASC,cAAc,8BAChCC,EAAUF,SAASG,cAAc,OAE/BC,EAAAA,UAAR,sSAQQC,EAAAA,QAAU,SAAK,GACjBT,EAAAA,MAAM,CACAjB,OAAAA,EAAYkB,UAGnBS,EAAAA,YAAYJ,GA3CnBpB,EAAIyB,WAAW,IAAI3B,SAAS4B,mBAI5B1B,EAAIa,GAAG,QAASlB,EAAU,SAAK,GACvBP,IAAAA,EAAUuC,EAAEC,SAAS,GAChB,WAAA,WACLd,EAAAA,MAAM,CACA1B,OAAAA,EAAQqB,SAASC,YACfd,SAAAA,IAEFR,EAAAA,IACT,OAKLgB,OAAOyB,aAAe,SAAc,GAC9BC,EAAAA,UAAUnC,EAAU,CAAC,KAAM,SAAUoC,KAG3C3B,OAAO4B,SAAW,WACZF,EAAAA,UAAUnC,EAAU,OAwB1BK,EAAIa,GAAG,OAAQ,WACPoB,IAAAA,EAAM,IAAInC,SAASoC,kBAAkB,CAACC,aAAa,IACrDV,EAAAA,WAAWQ,EAAK,YAChBG,EAAAA,WAAWC,UACfrB,MAOFE,SAASoB,KAAKC,iBAAiB,UAAW,SAASC,GACrCA,EAAMC,IAAZA,IACAC,EAAWF,EAAMG,QACjBC,EAAYJ,EAAMK,SAEnBH,GAAYE,IACPR,EAAAA,WAAWU,WAGvB5B,SAASoB,KAAKC,iBAAiB,QAAS,SAASC,GACzCC,IAAAA,EAAMD,EAAMC,IACAD,EAAMK,QAGd,QAALJ,GAAmB,WAALA,GACTL,EAAAA,WAAWC","file":"src.a9b55fa6.map","sourceRoot":"..","sourcesContent":["const MAP = {\n  // for creating mapboxgl.Map(). container defaults to 'map'\n  style: 'mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x',\n  center:[-85.61365526723557, 10.838261234356153],\n    zoom: 9.619976883678385\n};\n\nconst ACCESS_TOKEN =\n  'pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww';\n\nexport default {\n  LAYER_ID: 'turismo',\n  SOURCE_LAYER: 'Turismo',\n  FLY_TO_ZOOM_LEVEL: 9.619976883678385,\n  ANIMATION_DURATION: 2000,\n  LEGEND_TITLE: 'Puestos Estaciónes y Tourismos',\n  MAP,\n  ACCESS_TOKEN,\n  TYPES: [\n    {\n      name: 'biological',\n      label: 'Biological',\n      icon: `<svg><use href=\"assets/svg/information-11.svg\"></use></svg>`\n    },\n    {\n      name: 'tourist',\n      label: 'Touristo',\n      icon: `<svg><use href=\"assets/svg/park-11.svg\"></use></svg>`\n    }\n  ]\n};\n","export default feature =>\n  `<div class=\"popup-header\">\n    <h3>\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          ${feature.properties.Estación}\n        </a>\n    </h3>\n    <div class=\"popup-image\">\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          <img\n            src=\"${feature.properties.Image}\"\n            alt=\"Image del Estación ${feature.properties.Estación}\"\n          />\n        </a>\n      \n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"popup-button\"\n      href=\"${feature.properties.link}\"\n      >\n      Más informacíon\n    </a>\n  </div>\n  `;\n","/* global mapboxgl */\n\nimport config from './config';\nimport popupComponent from './components/popup';\n// import legendComponent from './components/legend';\n\nconst { ACCESS_TOKEN, MAP, LAYER_ID, ANIMATION_DURATION } = config;\n\nconst DEFAULT_MAP = {\n    container: 'map',\n};\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\n// instantiate the map instance\nconst map = new mapboxgl.Map(\n  // Set defaults, allow the config to override\n  Object.assign(DEFAULT_MAP, MAP)\n);\n\nwindow.map = map;\n\n// HANDLE POPUPS\n\nconst popup = new mapboxgl.Popup();\n\n// Create a mapboxgl.Popup from the default popup component.\nconst showPopup = feature => {\n  popup\n    .setLngLat(feature.geometry.coordinates)\n    .setHTML(popupComponent(feature))\n    .addTo(map);\n  popup.on('close', () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n      duration: ANIMATION_DURATION \n    });\n  });\n\n  return popup;\n};\n\n//FULL SCREEN MODE \n\nmap.addControl(new mapboxgl.FullscreenControl());\n\n// HANDLE MAP EVENTS\n\nmap.on('click', LAYER_ID, e => {\n  const feature = e.features[0];\n  setTimeout(() => {\n    map.flyTo({\n      center: feature.geometry.coordinates,\n      duration: ANIMATION_DURATION\n    });\n    showPopup(feature);\n  }, 200);\n});\n\n// HANDLE MAP LOAD\n\nwindow.handleFilter = symbolType => {\n  map.setFilter(LAYER_ID, ['==', 'symbol', symbolType]);\n};\n\nwindow.noFilter = () => {\n  map.setFilter(LAYER_ID, null);\n};\n\n//Create Compass Button that Flys to Center\nfunction createCompass() {\n  const leftEl = document.querySelector('.mapboxgl-ctrl-bottom-left');\n  const compass = document.createElement('div'); \n  compass.innerHTML = `<div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n      <button class=\"mapboxgl-ctrl-icon mapboxgl-ctrl-compass\" type=\"button\" aria-label=\"Reset North\">    \n       <span class=\"mapboxgl-ctrl-compass-arrow\" style=\"transform: rotate(0deg);\"></span>   \n    </button>  \n  </div>`; \n  compass.onclick = e => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n    })\n  }\nleftEl.appendChild(compass);\n}\n\nmap.on('load', () => {\n  const nav = new mapboxgl.NavigationControl({showCompass: false});\n  map.addControl(nav, 'top-left');\n  map.scrollZoom.disable();\n  createCompass();\n\n  // const legend = document.getElementById(`legend`);\n  // legend.innerHTML = legendComponent(TYPES);\n});\n\n// Press Command to Scrollzoom\ndocument.body.addEventListener(\"keydown\", function(event) {\n    var key = event.key;\n    var cmd_held = event.metaKey;\n    var ctrl_held = event.ctrlKey;\n\n    if(cmd_held || ctrl_held){\n        map.scrollZoom.enable();\n    }\n});\ndocument.body.addEventListener(\"keyup\", function(event) {\n    var key = event.key;\n    var ctrl_held = event.ctrlKey;\n\n\n    if(key==\"Meta\"|| key==\"Control\"){\n        map.scrollZoom.disable();\n    }\n});\n\n\n// const legend = document.getElementById(`legend`);\n// legend.innerHTML = legendComponent(TYPES); "]}